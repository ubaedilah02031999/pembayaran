<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pembayaran</title>

  <!-- MIDTRANS SNAP -->
  <script 
    src="https://app.sandbox.midtrans.com/snap/snap.js"
    data-client-key="Mid-client-Sc1_pZyADr_ybqDI">
  </script>

  <style>
    * { box-sizing:border-box; font-family: 'Inter', sans-serif; }
    body { margin:0; background:#f4f5f9; }

    /* Navbar */
    nav {
      background:#4f46e5;
      color:white;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:12px 20px;
      position: sticky;
      top:0;
      z-index:1000;
    }
    nav .logo img { height:36px; }
    nav .menu {
      display:flex;
      gap:20px;
      align-items:center;
    }
    nav .menu a {
      text-decoration:none;
      color:white;
      font-weight:500;
      transition:.2s;
    }
    nav .menu a:hover { color:#c7d2fe; }

    /* Hamburger */
    .hamburger {
      display:none;
      flex-direction:column;
      cursor:pointer;
      gap:4px;
    }
    .hamburger div {
      width:25px; height:3px;
      background:white;
      border-radius:2px;
      transition: .3s;
    }

    /* Mobile menu */
    .mobile-menu {
      display:none;
      flex-direction:column;
      background:#4f46e5;
      padding:10px 20px;
      gap:10px;
    }

    /* Card */
    .container {
      display:flex;
      justify-content:center;
      align-items:center;
      min-height: calc(100vh - 64px);
      padding:20px;
    }
    .card {
      background:#fff;
      width:100%;
      max-width:420px;
      border-radius:16px;
      padding:28px;
      box-shadow:0 20px 40px rgba(0,0,0,.15);
      animation: fadeIn .6s ease;
    }
    @keyframes fadeIn {
      from { opacity:0; transform: translateY(10px); }
      to { opacity:1; transform: translateY(0); }
    }
    .title { font-size:1.4rem; font-weight:700; margin-bottom:6px; }
    .subtitle { font-size:.9rem; color:#6b7280; margin-bottom:24px; }
    label { font-size:.85rem; font-weight:500; display:block; margin-bottom:6px; }
    input, select { width:100%; padding:12px 14px; border-radius:10px; border:1px solid #e5e7eb; margin-bottom:16px; font-size:.95rem; outline:none; transition:.2s; }
    input:focus, select:focus { border-color:#6366f1; box-shadow:0 0 0 3px rgba(99,102,241,.15); }
    .price { background:#f3f4f6; padding:14px; border-radius:12px; display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; font-weight:600; }
    .price span { color:#6366f1; font-size:1.1rem; }
    button { width:100%; padding:14px; border-radius:12px; border:none; background:#4f46e5; color:white; font-size:1rem; font-weight:600; cursor:pointer; transition:.25s; }
    button:hover { background:#4338ca; transform:translateY(-1px); }
    .note { text-align:center; font-size:.75rem; color:#9ca3af; margin-top:16px; }

    /* Responsive */
    @media (max-width:768px) {
      nav .menu { display:none; }
      .hamburger { display:flex; }
      .mobile-menu { display:flex; flex-direction:column; }
    }

  </style>
</head>
<body>

<!-- Navbar -->
<nav>
  <div class="logo">
    <img src="logo.png" alt="Logo">
  </div>

  <div class="menu">
    <a href="#home">Home</a>
    <a href="#tentang">Tentang</a>
    <a href="#kontak">Kontak</a>
  </div>

  <div class="hamburger" onclick="toggleMenu()">
    <div></div>
    <div></div>
    <div></div>
  </div>
</nav>

<div class="mobile-menu" id="mobileMenu" style="display:none;">
  <a href="#home">Home</a>
  <a href="#tentang">Tentang</a>
  <a href="#kontak">Kontak</a>
</div>

<!-- Payment Card -->
<div class="container">
  <div class="card">
    <div class="title">Pembayaran</div>
    <div class="subtitle">Isi data dan nominal</div>

    <label>Nama</label>
    <input id="nama" placeholder="Nama lengkap" />

    <label>Email</label>
    <input id="email" placeholder="email@example.com" />

    <label>Nominal (Rp)</label>
    <input id="amount" type="number" placeholder="50000" min="1000"/>

    <div class="price">
      <div>Total</div>
      <span id="display-amount">Rp 50.000</span>
    </div>

    <button onclick="bayar()">Bayar Sekarang</button>

    <div class="note">
      Pembayaran aman & terenkripsi
    </div>
  </div>
</div>

<script>
  // Hamburger toggle
  function toggleMenu() {
    const menu = document.getElementById("mobileMenu");
    if (menu.style.display === "flex") menu.style.display = "none";
    else menu.style.display = "flex";
  }

  // Update total nominal
  const displayAmount = document.getElementById("display-amount");
  const amountInput = document.getElementById("amount");
  amountInput.addEventListener("input", () => {
    let val = parseInt(amountInput.value) || 0;
    displayAmount.textContent = "Rp " + val.toLocaleString("id-ID");
  });

  // Midtrans payment
  function bayar() {
    const nama = document.getElementById("nama").value;
    const email = document.getElementById("email").value;
    const amount = parseInt(document.getElementById("amount").value);

    if (!nama || !email || !amount || amount < 1000) {
      alert("Nama, email dan nominal minimal 1000 wajib diisi");
      return;
    }

    fetch("https://script.google.com/macros/s/AKfycbyzO0DhurbB1Ljf9eCOp2TiEW0KWMrmg-CALM-7uz6y_H0Vro30e8RR56inrpn6fLRS/exec", {
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify({ action:"create_transaction", nama, email, amount })
    })
    .then(res => res.json())
    .then(data => snap.pay(data.token))
    .catch(err => { alert("Terjadi kesalahan"); console.error(err); });
  }
</script>

</body>
</html>
